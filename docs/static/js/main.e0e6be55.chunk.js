(window["webpackJsonpra-example-oauth"]=window["webpackJsonpra-example-oauth"]||[]).push([[0],{428:function(e,t,r){e.exports=r(791)},429:function(e,t,r){},791:function(e,t,r){"use strict";r.r(t);r(429);var n=r(0),a=r.n(n),o=r(39),c=r.n(o),i=r(57),u=r(809),s=r(807),l=r(808),m=function(e,t,r){switch(e){case"GET_LIST":return{data:[{id:"id",name:"Resource",date:new Date}],total:1};default:return null}},p=r(132),b=r.n(p),f=r(189),d=r(190),g=function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==d.d){e.next=7;break}if(!r.token){e.next=6;break}return localStorage.setItem("token",JSON.stringify(r.token)),e.abrupt("return",Promise.resolve());case 6:return e.abrupt("return",Promise.reject());case 7:if(![d.e,d.b].includes(t)){e.next=10;break}return localStorage.removeItem("token"),e.abrupt("return",Promise.resolve());case 10:if(t!==d.a){e.next=12;break}return e.abrupt("return",localStorage.getItem("token")?Promise.resolve():Promise.reject());case 12:return e.abrupt("return",Promise.resolve());case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=r(810),v=r(275),k=r(12),w=r(36),j=r(359),O=r(4),x=r(194),y=r.n(x),E=r(26),S=r.n(E),P=r(72),I=r.n(P),R=new URL(window.location.href).hash,L=R?R.substring(1).split("&").reduce((function(e,t){var r=t.split("="),n=Object(v.a)(r,2),a=n[0],o=n[1];return e[decodeURIComponent(a)]=decodeURIComponent(o),e}),{}):null,C={userLogin:w.h},U=Object(k.b)(void 0,C)(Object(O.withStyles)((function(e){var t=e.spacing;return Object(O.createStyles)({button:{width:"100%"},icon:{marginRight:t.unit}})}))((function(e){var t=e.classes,r=e.userLogin,o=Object(n.useState)(!!L),c=Object(v.a)(o,2),i=c[0],u=c[1],s=Object(n.useRef)(new j.UserManager({authority:"https://accounts.google.com/",client_id:"168557574535-f673145q3s1ughg9fvh2tv8ptd7ef33l.apps.googleusercontent.com",redirect_uri:"https://marmelab.com/ra-example-oauth",response_type:"token",scope:"openid email profile"})),l=Object(n.useCallback)((function(){L||(u(!0),s.current.signinRedirect())}),[]);return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:r({token:L}),s.current.clearStaleState();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),a.a.createElement("div",null,a.a.createElement(y.a,null,a.a.createElement(S.a,{className:t.button,variant:"raised",type:"submit",color:"primary",onClick:l,disabled:i},i&&a.a.createElement(I.a,{className:t.icon,size:18,thickness:2}),"Login With Google")))}))),_=function(e){return a.a.createElement(h.a,Object.assign({},e,{loginForm:a.a.createElement(U,null)}))},J=Object(i.a)({basename:"/ra-example-oauth/"});c.a.render(a.a.createElement(u.a,{dataProvider:m,authProvider:g,loginPage:_,history:J},a.a.createElement(s.a,{name:"resource",list:l.a})),document.getElementById("root"))}},[[428,1,2]]]);
//# sourceMappingURL=main.e0e6be55.chunk.js.map